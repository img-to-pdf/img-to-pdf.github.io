<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image to PDF Converter - Convert Images to PDF Online for Free</title>
  <meta name="description" content="Free online tool to convert images to PDF files. Secure, client-side processing, no uploads required. Convert JPG, PNG, WEBP to PDF with customizable settings.">
  <meta name="keywords" content="image to pdf, jpg to pdf, png to pdf, webp to pdf, convert image to pdf, image converter, pdf converter, online pdf converter, free pdf converter, secure pdf converter, client-side pdf converter, image to pdf online, jpeg to pdf, picture to pdf, photo to pdf, convert jpg to pdf, convert png to pdf, image to pdf converter free, online image to pdf, browser pdf converter, privacy-focused pdf converter, no upload pdf converter, local pdf conversion, image to pdf tool, batch image to pdf, multiple images to pdf, high quality pdf, pdf settings, pdf customization, pdf quality, pdf size, pdf orientation, pdf margin, pdf compression, pdf metadata, pdf security, image compression, image resize, pdf from images, create pdf from images, make pdf from pictures, digital pdf converter, web pdf converter, mobile pdf converter, desktop pdf converter, cross-platform pdf converter, no registration pdf converter, instant pdf conversion, fast pdf conversion, reliable pdf converter, professional pdf converter, business pdf converter, student pdf converter, document conversion, file conversion, format conversion, image format conversion, raster to pdf, bitmap to pdf, photo to document, image to document, visual to pdf, graphic to pdf, illustration to pdf, diagram to pdf, chart to pdf, screenshot to pdf, meme to pdf, social media image to pdf, instagram to pdf, facebook image to pdf, twitter image to pdf, whatsapp image to pdf, mobile photo to pdf, camera roll to pdf, gallery to pdf, scanned image to pdf, document scan to pdf, receipt to pdf, invoice to pdf, contract to pdf, form to pdf, application to pdf, resume to pdf, cv to pdf, certificate to pdf, diploma to pdf, transcript to pdf, id card to pdf, passport photo to pdf, driver license to pdf, medical record to pdf, prescription to pdf, x-ray to pdf, mri to pdf, ultrasound to pdf, lab result to pdf, blueprint to pdf, architectural drawing to pdf, engineering drawing to pdf, technical drawing to pdf, map to pdf, floor plan to pdf, site plan to pdf, elevation to pdf, section to pdf, detail drawing to pdf, schematic to pdf, circuit diagram to pdf, wiring diagram to pdf, network diagram to pdf, flowchart to pdf, organizational chart to pdf, timeline to pdf, gantt chart to pdf, mind map to pdf, concept map to pdf, infographic to pdf, poster to pdf, flyer to pdf, brochure to pdf, booklet to pdf, magazine to pdf, newspaper to pdf, comic to pdf, manga to pdf, graphic novel to pdf, art to pdf, painting to pdf, drawing to pdf, sketch to pdf, illustration to pdf, digital art to pdf, vector art to pdf, pixel art to pdf, 3d rendering to pdf, animation to pdf, game asset to pdf, ui design to pdf, ux design to pdf, web design to pdf, app design to pdf, logo to pdf, icon to pdf, banner to pdf, advertisement to pdf, marketing material to pdf, brand asset to pdf, product image to pdf, ecommerce image to pdf, amazon image to pdf, ebay image to pdf, shopify image to pdf, woocommerce image to pdf, product photo to pdf, catalog image to pdf, inventory image to pdf, real estate photo to pdf, property image to pdf, vacation rental image to pdf, airbnb image to pdf, hotel image to pdf, restaurant menu to pdf, food photo to pdf, recipe image to pdf, cooking instruction to pdf, workout image to pdf, exercise chart to pdf, yoga pose to pdf, meditation guide to pdf, wellness chart to pdf, medical illustration to pdf, anatomy diagram to pdf, physiology chart to pdf, biological drawing to pdf, scientific illustration to pdf, research image to pdf, data visualization to pdf, graph to pdf, chart to pdf, plot to pdf, diagram to pdf, table to pdf, spreadsheet to pdf, presentation slide to pdf, powerpoint to pdf, keynote to pdf, google slides to pdf, canva design to pdf, figma design to pdf, adobe illustrator to pdf, photoshop to pdf, indesign to pdf, sketch to pdf, affinity designer to pdf, coreldraw to pdf, gimp to pdf, inkscape to pdf, paint to pdf, ms paint to pdf, apple photos to pdf, google photos to pdf, samsung gallery to pdf, huawei gallery to pdf, xiaomi gallery to pdf, oppo gallery to pdf, vivo gallery to pdf, oneplus gallery to pdf, sony gallery to pdf, lg gallery to pdf, motorola gallery to pdf, nokia gallery to pdf, pixel gallery to pdf, iphone photos to pdf, ipad photos to pdf, mac photos to pdf, windows photos to pdf, linux image to pdf, chrome os image to pdf, android image to pdf, ios image to pdf, windows phone image to pdf, blackberry image to pdf, kindle image to pdf, fire tablet image to pdf, galaxy tab image to pdf, ipad pro image to pdf, surface pro image to pdf, chromebook image to pdf, laptop image to pdf, desktop image to pdf, server image to pdf, cloud image to pdf, dropbox image to pdf, google drive image to pdf, onedrive image to pdf, icloud image to pdf, box image to pdf, amazon s3 image to pdf, imgur image to pdf, flickr image to pdf, 500px image to pdf, unsplash image to pdf, pixabay image to pdf, pexels image to pdf, shutterstock image to pdf, getty images to pdf, istockphoto to pdf, adobe stock to pdf, alamy to pdf, depositphotos to pdf, dreamstime to pdf, bigstockphoto to pdf, canstockphoto to pdf, 123rf to pdf, photodune to pdf, graphicriver to pdf, themeforest to pdf, codecanyon to pdf, videohive to pdf, audiojungle to pdf, 3docean to pdf, activeden to pdf, flashden to pdf, pond5 to pdf, revostock to pdf, shutterstock video to pdf, getty video to pdf, storyblocks to pdf, artgrid to pdf, filmsupply to pdf, motionarray to pdf, soundstripe to pdf, epidemic sound to pdf, audioblocks to pdf, audiomicro to pdf, stockmusic to pdf, premiumbeat to pdf, pond5 music to pdf, artlist to pdf, musicbed to pdf, soundcloud to pdf, spotify to pdf, apple music to pdf, youtube music to pdf, amazon music to pdf, deezer to pdf, tidal to pdf, pandora to pdf, iheartradio to pdf, siriusxm to pdf, napster to pdf, qobuz to pdf, bandcamp to pdf, soundclick to pdf, reverbnation to pdf, cdbaby to pdf, distrokid to pdf, tunecore to pdf, ditto music to pdf, amuse to pdf, awal to pdf, empire distribution to pdf, fueled by ramen to pdf, interscope to pdf, sony music to pdf, universal music to pdf, warner music to pdf, bmi to pdf, ascap to pdf, sesac to pdf, global music rights to pdf, soundexchange to pdf, harry fox agency to pdf, mechanical licensing collective to pdf, music reports to pdf, audiam to pdf, loudr to pdf, songtrust to pdf, kobalt to pdf, concord to pdf, mpl to pdf, peermusic to pdf, the orchard to pdf, believe digital to pdf, [plus 300 more keywords...]">
  
  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="Image to PDF Converter - Convert Images to PDF Online for Free">
  <meta property="og:description" content="Free online tool to convert images to PDF files. Secure, client-side processing, no uploads required. Convert JPG, PNG, WEBP to PDF with customizable settings.">
  <meta property="og:type" content="website">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Image to PDF Converter - Convert Images to PDF Online for Free">
  <meta name="twitter:description" content="Free online tool to convert images to PDF files. Secure, client-side processing, no uploads required.">
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÑ</text></svg>">
  
  <style>
    :root {
      --primary-color: #4361ee;
      --primary-dark: #3a56d4;
      --secondary-color: #7209b7;
      --text-color: #333;
      --light-text: #666;
      --border-color: #e1e5e9;
      --background-color: #f8f9fa;
      --card-background: #ffffff;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --radius: 8px;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: var(--background-color);
      padding: 0;
      margin: 0;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header */
    header {
      background-color: var(--card-background);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .site-name {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary-color);
      text-decoration: none;
    }
    
    /* Main Content */
    main {
      padding: 40px 0;
    }
    
    section {
      margin-bottom: 60px;
    }
    
    h1 {
      font-size: 32px;
      margin-bottom: 20px;
      color: var(--text-color);
    }
    
    h2 {
      font-size: 24px;
      margin-bottom: 16px;
      color: var(--text-color);
    }
    
    p {
      margin-bottom: 16px;
      color: var(--light-text);
    }
    
    /* Tool Section */
    .tool-container {
      background-color: var(--card-background);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
      margin-bottom: 30px;
    }
    
    .tool-description {
      margin-bottom: 24px;
      font-size: 18px;
      color: var(--light-text);
    }
    
    .controls {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }
    
    @media (max-width: 768px) {
      .controls {
        grid-template-columns: 1fr;
      }
    }
    
    .left, .right {
      padding: 10px;
    }
    
    .drop-zone {
      border: 2px dashed var(--border-color);
      border-radius: var(--radius);
      padding: 40px 20px;
      text-align: center;
      background-color: #fbfdff;
      transition: all 0.3s ease;
      margin-bottom: 20px;
    }
    
    .drop-zone.active {
      border-color: var(--primary-color);
      background-color: rgba(67, 97, 238, 0.05);
    }
    
    .drop-zone strong {
      display: block;
      font-size: 18px;
      margin-bottom: 8px;
    }
    
    .btn {
      display: inline-block;
      padding: 10px 20px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.2s;
      text-decoration: none;
    }
    
    .btn:hover {
      background-color: var(--primary-dark);
    }
    
    .btn-secondary {
      background-color: var(--secondary-color);
    }
    
    .btn-secondary:hover {
      background-color: #6511a0;
    }
    
    input[type="file"] {
      display: none;
    }
    
    .field {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-color);
    }
    
    input[type="number"], 
    select, 
    input[type="range"] {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      font-size: 16px;
    }
    
    .row {
      display: flex;
      gap: 15px;
    }
    
    .small-input {
      width: 120px;
    }
    
    .preview {
      display: flex;
      flex-direction: column;
      gap: 15px;
      align-items: center;
    }
    
    canvas {
      max-width: 100%;
      border-radius: var(--radius);
      background: #fff;
      display: none;
    }
    
    #preview {
      max-width: 100%;
      border-radius: var(--radius);
      display: none;
    }
    
    .meta {
      font-size: 14px;
      color: var(--light-text);
    }
    
    .actions {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    /* FAQ Section */
    .faq-container {
      background-color: var(--card-background);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
    }
    
    .faq-item {
      margin-bottom: 20px;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 20px;
    }
    
    .faq-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }
    
    .faq-question {
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 10px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .faq-answer {
      color: var(--light-text);
    }
    
    /* Privacy Section */
    .privacy-container {
      background-color: var(--card-background);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
    }
    
    .privacy-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .feature {
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    
    .feature-icon {
      color: var(--primary-color);
      font-size: 20px;
    }
    
    /* Footer */
    footer {
      background-color: var(--card-background);
      padding: 30px 0;
      border-top: 1px solid var(--border-color);
      text-align: center;
      color: var(--light-text);
      font-size: 14px;
    }
    
    /* Breadcrumbs */
    .breadcrumbs {
      margin-bottom: 20px;
      font-size: 14px;
      color: var(--light-text);
    }
    
    .breadcrumbs a {
      color: var(--primary-color);
      text-decoration: none;
    }
    
    .breadcrumbs span {
      margin: 0 5px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 {
        font-size: 28px;
      }
      
      h2 {
        font-size: 22px;
      }
      
      .tool-container, .faq-container, .privacy-container {
        padding: 20px;
      }
      
      .row {
        flex-direction: column;
        gap: 10px;
      }
      
      .small-input {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <div class="header-content">
        <a href="/" class="site-name">img-to-pdf coverter free</a>
      </div>
    </div>
  </header>

  <!-- Breadcrumbs -->
  <div class="container">
    <div class="breadcrumbs">
      <a href="/">Home</a> <span>&gt;</span> <a href="/image-to-pdf">Image to PDF Converter</a>
    </div>
  </div>

  <!-- Main Content -->
  <main class="container">
    <!-- Tool Section -->
    <section>
      <h1>Image to PDF Converter</h1>
      <div class="tool-container">
        <p class="tool-description">Convert your images to PDF files quickly and securely. All processing happens in your browser - your files never leave your device.</p>
        
        <div class="controls">
          <section class="left">
            <div class="drop-zone" id="dropZone">
              <strong>Drop image here</strong>
              <span class="meta">or <label class="btn" for="fileInput" style="margin:0">Select file</label></span>
              <input id="fileInput" type="file" accept="image/*" />
            </div>

            <div>
              <div class="field">
                <label for="pageSize">Page Size</label>
                <select id="pageSize">
                  <option value="a4">A4</option>
                  <option value="letter">Letter</option>
                  <option value="legal">Legal</option>
                  <option value="a3">A3</option>
                  <option value="a5">A5</option>
                  <option value="custom">Custom</option>
                </select>
              </div>

              <div id="customSizeInputs" class="field" style="display:none">
                <div class="row">
                  <div style="flex:1">
                    <label for="customWidth">Width (mm)</label>
                    <input id="customWidth" type="number" min="1" class="small-input" placeholder="210" />
                  </div>
                  <div style="flex:1">
                    <label for="customHeight">Height (mm)</label>
                    <input id="customHeight" type="number" min="1" class="small-input" placeholder="297" />
                  </div>
                </div>
              </div>

              <div class="field">
                <label for="orientation">Orientation</label>
                <select id="orientation">
                  <option value="portrait">Portrait</option>
                  <option value="landscape">Landscape</option>
                </select>
              </div>

              <div class="field">
                <label for="margin">Margin (mm)</label>
                <input id="margin" type="range" min="0" max="50" value="10" />
                <div class="row" style="margin-top:6px"><span id="marginLabel">10 mm</span></div>
              </div>

              <div class="field">
                <label for="quality">Image Quality</label>
                <input id="quality" type="range" min="0.1" max="1" step="0.05" value="0.9" />
                <div class="row" style="margin-top:6px"><span id="qualityLabel">0.90</span></div>
              </div>

              <div class="field">
                <label for="compression">PDF Compression</label>
                <select id="compression">
                  <option value="none">None (Highest Quality)</option>
                  <option value="medium">Medium</option>
                  <option value="high" selected>High (Smaller File Size)</option>
                </select>
              </div>

              <div class="field">
                <label for="pdfTitle">PDF Title (Optional)</label>
                <input id="pdfTitle" type="text" placeholder="Enter PDF title" />
              </div>

              <div class="actions">
                <button id="convertBtn" class="btn" disabled>Convert to PDF</button>
                <button id="resetBtn" class="btn btn-secondary">Reset</button>
              </div>
            </div>
          </section>

          <aside class="right">
            <div class="preview">
              <canvas id="canvas" width="640" height="360" style="display:none"></canvas>
              <img id="preview" alt="Image preview" style="display:none;max-width:100%;border-radius:8px" />
              <div class="meta" id="origMeta" style="display:none"></div>
              <div class="meta" id="newMeta" style="display:none"></div>

              <div style="display:flex;gap:8px;margin-top:10px">
                <a id="downloadLink" class="btn" style="display:none" download>Download PDF</a>
                <a id="openTab" class="btn btn-secondary" style="display:none" target="_blank" rel="noopener">Open PDF</a>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- Why This Tool Section -->
    <section>
      <h2>Why Use This Image to PDF Converter?</h2>
      <div class="privacy-container">
        <p>Our Image to PDF Converter offers several advantages over other online tools:</p>
        <div class="privacy-features">
          <div class="feature">
            <div class="feature-icon">üîí</div>
            <div>
              <h3>Complete Privacy</h3>
              <p>Your images are processed entirely in your browser and never uploaded to any server.</p>
            </div>
          </div>
          <div class="feature">
            <div class="feature-icon">‚ö°</div>
            <div>
              <h3>Fast Processing</h3>
              <p>Convert images to PDF instantly without waiting for file uploads and downloads.</p>
            </div>
          </div>
          <div class="feature">
            <div class="feature-icon">üéõÔ∏è</div>
            <div>
              <h3>Full Customization</h3>
              <p>Control page size, orientation, margins, quality, and compression settings.</p>
            </div>
          </div>
          <div class="feature">
            <div class="feature-icon">üì±</div>
            <div>
              <h3>Device Compatibility</h3>
              <p>Works on all devices - desktop, tablet, and mobile browsers.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section>
      <h2>How This Image to PDF Converter Works</h2>
      <div class="privacy-container">
        <p>Our converter uses a simple three-step process:</p>
        <ol style="padding-left: 20px; margin-top: 15px;">
          <li style="margin-bottom: 10px;"><strong>Upload Your Image:</strong> Select an image file from your device or drag and drop it into the upload area.</li>
          <li style="margin-bottom: 10px;"><strong>Customize Settings:</strong> Adjust page size, orientation, margins, and quality settings to your preference.</li>
          <li style="margin-bottom: 10px;"><strong>Convert and Download:</strong> Click the convert button and download your PDF file instantly.</li>
        </ol>
        <p style="margin-top: 15px;">The entire process happens locally in your browser using JavaScript, ensuring your files remain private and secure.</p>
      </div>
    </section>

    <!-- Privacy Section -->
    <section>
      <h2>Your Privacy Matters</h2>
      <div class="privacy-container">
        <p>We take your privacy seriously. Unlike other online converters, our tool processes your images entirely in your browser using JavaScript. This means:</p>
        <ul style="padding-left: 20px; margin-top: 15px;">
          <li style="margin-bottom: 10px;">Your images are never uploaded to any server</li>
          <li style="margin-bottom: 10px;">No one else can access your files</li>
          <li style="margin-bottom: 10px;">Your data remains 100% on your device</li>
          <li style="margin-bottom: 10px;">The conversion happens locally with no internet connection required after page load</li>
        </ul>
        <p style="margin-top: 15px;">This site uses HTTPS encryption to ensure secure communication between your browser and our server during the initial page load. Once loaded, all image processing happens offline in your browser.</p>
      </div>
    </section>

    <!-- FAQ Section -->
    <section>
      <h2>Frequently Asked Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <div class="faq-question">What image formats are supported? <span>+</span></div>
          <div class="faq-answer" style="display: none;">
            Our converter supports all common image formats including JPG, JPEG, PNG, WEBP, BMP, and GIF.
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">Is there a file size limit? <span>+</span></div>
          <div class="faq-answer" style="display: none;">
            There's no specific file size limit, but very large images may take longer to process depending on your device's capabilities.
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">Can I convert multiple images to one PDF? <span>+</span></div>
          <div class="faq-answer" style="display: none;">
            Currently, our tool converts one image at a time. For multiple images, you would need to convert them individually and then combine the PDFs using a separate tool.
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">Does this work on mobile devices? <span>+</span></div>
          <div class="faq-answer" style="display: none;">
            Yes, our Image to PDF Converter works on all modern mobile browsers including Chrome, Safari, and Firefox on both iOS and Android devices.
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">Are my images stored anywhere? <span>+</span></div>
          <div class="faq-answer" style="display: none;">
            No, your images are never stored on any server. All processing happens locally in your browser, and the files are deleted from memory once you close the page or reset the tool.
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">What happens if I lose internet connection during conversion? <span>+</span></div>
          <div class="faq-answer" style="display: none;">
            Since all processing happens in your browser, you can continue to use the converter even without an internet connection after the initial page load.
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>¬© 2025 Img-to-Pdf - All rights reserved. | Your privacy-focused Image to PDF Converter</p>
    </div>
  </footer>

  <script>
    // Elements
    const fileInput = document.getElementById('fileInput');
    const dropZone = document.getElementById('dropZone');
    const convertBtn = document.getElementById('convertBtn');
    const resetBtn = document.getElementById('resetBtn');
    const canvas = document.getElementById('canvas');
    const previewImg = document.getElementById('preview');
    const downloadLink = document.getElementById('downloadLink');
    const openTab = document.getElementById('openTab');
    const origMeta = document.getElementById('origMeta');
    const newMeta = document.getElementById('newMeta');

    const pageSizeSelect = document.getElementById('pageSize');
    const customSizeInputs = document.getElementById('customSizeInputs');
    const customWidth = document.getElementById('customWidth');
    const customHeight = document.getElementById('customHeight');
    const orientationSelect = document.getElementById('orientation');
    const marginRange = document.getElementById('margin');
    const marginLabel = document.getElementById('marginLabel');
    const qualityRange = document.getElementById('quality');
    const qualityLabel = document.getElementById('qualityLabel');
    const compressionSelect = document.getElementById('compression');
    const pdfTitleInput = document.getElementById('pdfTitle');

    let originalImage = null;
    let originalName = 'image';
    let origW = 0, origH = 0;

    // Page size presets (width x height in mm)
    const pageSizes = {
      a4: { width: 210, height: 297 },
      letter: { width: 216, height: 279 },
      legal: { width: 216, height: 356 },
      a3: { width: 297, height: 420 },
      a5: { width: 148, height: 210 }
    };

    // Helpers
    function show(el) { el.style.display = ''; }
    function hide(el) { el.style.display = 'none'; }
    function setDisabled(el, v) { el.disabled = !!v; }

    // Update UI based on page size selection
    pageSizeSelect.addEventListener('change', function() {
      if (this.value === 'custom') {
        show(customSizeInputs);
      } else {
        hide(customSizeInputs);
        // Set default values for custom inputs based on selected preset
        const size = pageSizes[this.value];
        if (size) {
          customWidth.value = size.width;
          customHeight.value = size.height;
        }
      }
    });

    // Update margin label
    marginRange.addEventListener('input', function() {
      marginLabel.textContent = this.value + ' mm';
    });

    // Update quality label
    qualityRange.addEventListener('input', function() {
      qualityLabel.textContent = Number(this.value).toFixed(2);
    });

    // Load image
    function handleFile(file) {
      if (!file || !file.type.startsWith('image/')) return;
      originalName = file.name.replace(/\.[^/.]+$/, "");
      const reader = new FileReader();
      reader.onload = e => {
        const img = new Image();
        img.onload = () => {
          originalImage = img;
          origW = img.naturalWidth;
          origH = img.naturalHeight;
          origMeta.textContent = `Original: ${origW} √ó ${origH} ‚Äî ${file.type} ‚Äî ${(file.size/1024|0)} KB`;
          show(origMeta);
          enableControls(true);
          renderPreview(img); // show original preview
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    function enableControls(enabled) {
      setDisabled(convertBtn, !enabled);
    }

    fileInput.addEventListener('change', e => handleFile(e.target.files[0]));

    // Drag & drop
    ['dragenter', 'dragover'].forEach(evt => {
      dropZone.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropZone.classList.add('active');
      });
    });
    ['dragleave', 'drop'].forEach(evt => {
      dropZone.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropZone.classList.remove('active');
      });
    });
    dropZone.addEventListener('drop', e => {
      const f = e.dataTransfer.files && e.dataTransfer.files[0];
      if (f) handleFile(f);
    });

    // Render preview (original or resized)
    function renderPreview(imgOrUrl) {
      if (typeof imgOrUrl === 'string') {
        previewImg.src = imgOrUrl;
        show(previewImg);
        hide(canvas);
      } else if (imgOrUrl instanceof HTMLImageElement) {
        // show original as preview image (use scaled URL)
        previewImg.src = imgOrUrl.src;
        show(previewImg);
        hide(canvas);
      } else {
        hide(previewImg);
        hide(canvas);
      }
    }

    // Convert to PDF
    async function convertToPDF() {
      if (!originalImage) return;

      // Get page dimensions
      let pageWidth, pageHeight;
      const pageSize = pageSizeSelect.value;
      
      if (pageSize === 'custom') {
        pageWidth = Number(customWidth.value) || 210;
        pageHeight = Number(customHeight.value) || 297;
      } else {
        const size = pageSizes[pageSize];
        pageWidth = size.width;
        pageHeight = size.height;
        
        // Adjust for orientation
        if (orientationSelect.value === 'landscape') {
          [pageWidth, pageHeight] = [pageHeight, pageWidth];
        }
      }

      // Convert mm to pixels (assuming 96 DPI)
      const pxPerMm = 96 / 25.4;
      const pageWidthPx = Math.round(pageWidth * pxPerMm);
      const pageHeightPx = Math.round(pageHeight * pxPerMm);
      const marginPx = Math.round(marginRange.value * pxPerMm);

      // Calculate image dimensions to fit within page with margins
      const maxImgWidth = pageWidthPx - (2 * marginPx);
      const maxImgHeight = pageHeightPx - (2 * marginPx);
      
      let imgWidth = origW;
      let imgHeight = origH;
      
      // Scale image to fit within page with margins while maintaining aspect ratio
      const scale = Math.min(maxImgWidth / imgWidth, maxImgHeight / imgHeight, 1);
      imgWidth = Math.round(imgWidth * scale);
      imgHeight = Math.round(imgHeight * scale);
      
      // Center image on page
      const x = marginPx + (maxImgWidth - imgWidth) / 2;
      const y = marginPx + (maxImgHeight - imgHeight) / 2;

      // Draw to canvas
      canvas.width = pageWidthPx;
      canvas.height = pageHeightPx;
      const ctx = canvas.getContext('2d');
      
      // Fill background with white
      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(0, 0, pageWidthPx, pageHeightPx);
      
      // Draw image with smoothing
      ctx.imageSmoothingEnabled = true;
      ctx.imageSmoothingQuality = 'high';
      ctx.drawImage(originalImage, x, y, imgWidth, imgHeight);

      // Create PDF using jsPDF library (included via CDN)
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({
        orientation: orientationSelect.value,
        unit: 'mm',
        format: pageSize === 'custom' ? [pageWidth, pageHeight] : pageSize
      });

      // Add title if provided
      const title = pdfTitleInput.value.trim();
      if (title) {
        pdf.setDocumentProperties({
          title: title
        });
      }

      // Add the canvas image to PDF
      const imgData = canvas.toDataURL('image/jpeg', Number(qualityRange.value));
      pdf.addImage(imgData, 'JPEG', 0, 0, pageWidth, pageHeight, undefined, 'FAST');

      // Generate PDF blob
      const pdfBlob = pdf.output('blob');
      const pdfUrl = URL.createObjectURL(pdfBlob);
      
      // Update download link
      downloadLink.href = pdfUrl;
      downloadLink.download = (title || originalName) + '.pdf';
      
      // Update open in new tab link
      openTab.href = pdfUrl;
      
      // Show download and open buttons
      show(downloadLink);
      show(openTab);
      
      // Update metadata
      newMeta.textContent = `PDF: ${pageWidth} √ó ${pageHeight} mm ‚Äî ${(pdfBlob.size/1024|0)} KB`;
      show(newMeta);
    }

    convertBtn.addEventListener('click', convertToPDF);

    // Reset
    resetBtn.addEventListener('click', () => {
      fileInput.value = '';
      originalImage = null;
      hide(previewImg);
      hide(canvas);
      hide(downloadLink);
      hide(openTab);
      hide(origMeta);
      hide(newMeta);
      enableControls(false);
      
      // Reset form values
      pageSizeSelect.value = 'a4';
      hide(customSizeInputs);
      orientationSelect.value = 'portrait';
      marginRange.value = 10;
      marginLabel.textContent = '10 mm';
      qualityRange.value = 0.9;
      qualityLabel.textContent = '0.90';
      compressionSelect.value = 'high';
      pdfTitleInput.value = '';
    });

    // FAQ toggle
    document.querySelectorAll('.faq-question').forEach(question => {
      question.addEventListener('click', () => {
        const answer = question.nextElementSibling;
        const isVisible = answer.style.display === 'block';
        
        // Hide all answers first
        document.querySelectorAll('.faq-answer').forEach(ans => {
          ans.style.display = 'none';
        });
        
        // Show/hide clicked answer
        answer.style.display = isVisible ? 'none' : 'block';
      });
    });

    // Initialize
    enableControls(false);
  </script>
  
  <!-- Include jsPDF library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
